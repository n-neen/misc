lorom

org $aad3b5
    jsl GoldenTorizo_HealthBasedPalette_Handling

org $aaf900

GoldenTorizo_HealthBasedPalette_Handling:
    PHX
    PHY
    PHB
    PHK
    PLB
    XBA
    AND.W #$0078
    BIT.W #$0040
    BEQ +
    LDA.W #$0038
                     
  + ASL A
    ASL A
    ORA.W #$001E
    TAY
    LDX.W #$001E

.loop:               
    LDA.W .palette2,Y
    STA.L $7EC140,X             ;palette 2
    LDA.W .palette1,Y
    STA.L $7EC1e0,X             ;palette 7
    DEY
    DEY
    DEX
    DEX
    BPL .loop
    PLB
    PLY
    PLX
    RTL


.palette1:
    dw $1000,$56BA,$41B2,$1447,$0403,$4E15,$3570,$24CB,$1868,$6F7F,$51F8,$410E,$031F,$01DA,$00F5,$0C63
    dw $1000,$56DB,$39D3,$1047,$0403,$4636,$2D91,$20EC,$1489,$6F9B,$5215,$3D2C,$133B,$0DF6,$0CF2,$0C63
    dw $1000,$52FB,$31F4,$1067,$0402,$3E76,$25B2,$192D,$10A9,$6F96,$5251,$396A,$2756,$1A13,$190F,$0863
    dw $1000,$531C,$2A15,$0C67,$0402,$3697,$1DD3,$154E,$0CCA,$6FB2,$526E,$3588,$3772,$262F,$250C,$0863
    dw $1000,$4F5C,$1E56,$0888,$0001,$2EB8,$1A13,$116F,$0CEB,$73AD,$4EAA,$35A6,$4B8D,$364B,$3509,$0443
    dw $1000,$4F7D,$1677,$0488,$0001,$26D9,$1234,$0D90,$090C,$73C9,$4EC7,$31C4,$5BA9,$4267,$4106,$0443
    dw $1000,$4B9D,$0E98,$04A8,$0000,$1F19,$0A55,$05D1,$052C,$73C4,$4F03,$2E02,$6FC4,$4E84,$4D23,$0043
    dw $0000,$4BBE,$06B9,$00A8,$0000,$173A,$0276,$01F2,$014D,$73E0,$4F20,$2A20,$7FE0,$5AA0,$5920,$0043

.palette2:
    dw $1000,$4215,$2D0D,$0002,$0000,$3970,$20CB,$0C26,$0403,$463A,$28B3,$1809,$6F7F,$51FD,$4113,$0C63
    dw $1000,$4236,$252E,$0002,$0000,$3191,$1CEC,$0C47,$0424,$4656,$28D0,$1428,$6F7B,$51F9,$40F0,$0C63
    dw $1000,$3E56,$214F,$0002,$0000,$29D1,$190D,$0888,$0424,$4693,$290E,$1046,$6F76,$4DF5,$40EE,$0842
    dw $1000,$3E77,$1970,$0002,$0000,$21F2,$152E,$08A9,$0445,$46AF,$292B,$0C65,$6F72,$4DF1,$40CB,$0842
    dw $1000,$3AB7,$15B1,$0003,$0000,$1A13,$0D6E,$04CA,$0066,$4ACB,$2568,$0C84,$6B4D,$4A0C,$44C8,$0421
    dw $1000,$3AD8,$0DD2,$0003,$0000,$1234,$098F,$04EB,$0087,$4AE7,$2585,$08A3,$6B49,$4A08,$44A5,$0421
    dw $1000,$36F8,$09F3,$0003,$0000,$0A74,$05B0,$012C,$0087,$4B24,$25C3,$04C1,$6B44,$4604,$44A3,$0000
    dw $1000,$3719,$0214,$0003,$0000,$0295,$01D1,$014D,$00A8,$4B40,$25E0,$00E0,$6B40,$4600,$4480,$0000
    
    

org $aa8747

; Initial Golden Torizo
    dw $1000,$4200,$2D00,$0000,$0000,$3960,$20C0,$0C20,$0400,$4620,$28a0,$1800,$6F6c,$51FD,$4103,$0C63
    dw $1000,$06BA,$01B2,$0447,$0403,$0E15,$0570,$04CB,$0868,$0F7F,$01F8,$010E,$031F,$01DA,$00F5,$0C63
; Golden Torizo (after coming to life)
    dw $3800,$4BBE,$06B9,$00A8,$0000,$173A,$0276,$01F2,$014D,$73E0,$4F20,$2A20,$7FE0,$5AA0,$5920,$0043
    dw $3800,$3719,$0214,$0003,$0000,$0295,$01D1,$014D,$00A8,$4B40,$25E0,$00E0,$6B40,$4600,$4480,$0000
